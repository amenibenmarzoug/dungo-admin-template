<div id="register" class="inner-scroll" fxLayout="row" fxLayoutAlign="start">

    <div id="register-intro" fxFlex fxHide fxShow.gt-xs>

        <div class="logo" [@animate]="{value:'*',params:{scale:'0.2'}}">
            <img src="assets/images/logos/logo.svg">
        </div>

        <div class="title" [@animate]="{value:'*',params:{delay:'50ms',y:'25px'}}">
            BIENVENUE SUR DUNGO
        </div>

        <div class="description" [@animate]="{value:'*',params:{delay:'100ms',y:'25px'}}">
            DUNGO IS YOUR PARTNER FOR
            ECOLOGICAL SUSTAINABILITY AND YOUR WAY FOR AN ECO-CITIZEN
            NETWORKING
        </div>

    </div>

    <div id="register-form-wrapper" fusePerfectScrollbar [@animate]="{value:'*',params:{delay:'300ms',x:'100%'}}">

        <div id="register-form">

            <div class="logo" fxHide.gt-xs>
                <img src="assets/images/logos/logo.svg">
            </div>

            <div class="title">CREER UN COMPTE</div>

            <form name="registerForm" *ngIf="!isSuccessful" [formGroup]="registerForm" novalidate
                (ngSubmit)="registerForm.valid && onSubmit()">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-form-field appearance="outline">
                        <mat-label>Role d'utilisateur</mat-label>
                        <mat-select formControlName="role" [(ngModel)]="registerForm.role" required
                            (blur)="onValueChanged()">
                            <mat-option [value]="'AGENT'">
                                Agent
                            </mat-option>
                            <mat-option [value]="'USER'">
                                User
                            </mat-option>
                            <mat-option [value]="'MANAGER'">
                                Manager
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="formErrors.role">{{formErrors.role}}</mat-error>

                    </mat-form-field>

                </div>
                <div fxLayout="row" fxLayoutAlign="start start">
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Prénom</mat-label>
                        <input matInput formControlName="firstname" [(ngModel)]="registerForm.firstname" required
                            (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                        <mat-error *ngIf="formErrors.firstname">{{formErrors.firstname}}</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Nom</mat-label>
                        <input matInput formControlName="lastname" [(ngModel)]="registerForm.lastname" required
                            (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                        <mat-error *ngIf="formErrors.lastname">{{formErrors.lastname}}</mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayoutAlign="start center">

                    <mat-form-field appearance="outline">
                        <mat-label>Sexe</mat-label>
                        <mat-select formControlName="gender" [(ngModel)]="registerForm.gender" required
                            (blur)="onValueChanged()">
                            <mat-option [value]="'Masculin'">
                                Masculin
                            </mat-option>
                            <mat-option [value]="'Féminin'">
                                Féminin
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="formErrors.gender">{{formErrors.gender}}</mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayoutAlign="start center">

                    <mat-form-field appearance="outline">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" [(ngModel)]="registerForm.email" required
                            (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">mail</mat-icon>
                        <mat-error *ngIf="formErrors.email">{{formErrors.email}}</mat-error>

                    </mat-form-field>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-form-field appearance="outline">
                        <mat-label>Numéro de téléphone</mat-label>
                        <input matInput type="tel" formControlName="phoneNumber" [(ngModel)]="registerForm.phoneNumber"
                            required (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">phone</mat-icon>

                        <mat-error *ngIf="formErrors.phoneNumber">{{formErrors.phoneNumber}}</mat-error>

                    </mat-form-field>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center">

                    <mat-form-field appearance="outline">
                        <mat-label>Mot de passe</mat-label>
                        <input matInput type="password" formControlName="password" [(ngModel)]="registerForm.password"
                            required (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                        <mat-error *ngIf="formErrors.password">{{formErrors.password}}</mat-error>

                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-form-field appearance="outline">
                        <mat-label>Mot de passe (Confirmer)</mat-label>
                        <input matInput type="password" formControlName="passwordConfirm"
                            [(ngModel)]="registerForm.passwordConfirm" required (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                        <mat-error *ngIf="formErrors.passwordConfirm">{{formErrors.passwordConfirm}}</mat-error>

                    </mat-form-field>
                </div>

                <div formGroupName="address" fxLayout="row" fxLayoutAlign="start center">
                    <mat-form-field appearance="outline" fxFlex>
                        <mat-label>Rue</mat-label>
                        <mat-icon matSuffix class="secondary-text">home</mat-icon>
                        <input name="addressLine" formControlName="addressLine" matInput
                            [(ngModel)]="registerForm.addressLine" required (blur)="onValueChanged()">
                        <mat-error *ngIf="formErrors.addressLine">{{formErrors.addressLine}}</mat-error>

                    </mat-form-field>
                </div>

                <div formGroupName="address" fxLayout="row" fxLayoutAlign="start start">

                    <mat-form-field appearance="outline" fxFlex="100">
                        <mat-label>Ville</mat-label>
                        <mat-select formControlName="city" required [(ngModel)]="registerForm.city"
                            (blur)="onValueChanged()">
                            <mat-option *ngFor="let city of cities" [value]="city">
                                {{city}}
                            </mat-option>

                        </mat-select>
                        <mat-icon matSuffix class="secondary-text">outlined_flag</mat-icon>
                        <mat-error *ngIf="formErrors.city">{{formErrors.city}}</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" fxFlex="33">
                        <mat-label>Code postal</mat-label>
                        <input matInput #postalCode formControlName="zipCode" maxlength="5 " required
                            [(ngModel)]="registerForm.zipCode" (blur)="onValueChanged()">
                        <mat-icon matSuffix class="secondary-text ">markunread_mailbox</mat-icon>
                        <mat-error *ngIf="formErrors.zipCode">{{formErrors.zipCode}}</mat-error>
                    </mat-form-field>
                </div>

                <div class="terms" fxLayout="row" fxLayoutAlign="center center">
                    <mat-checkbox name="terms" aria-label="Accept" required (blur)="onValueChanged()">
                        <span>Accepter</span>
                    </mat-checkbox>
                    <a href="#">les conditions</a>
                </div>

                <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT"
                    [disabled]="registerForm.invalid">
                    CREER UN COMPTE
                </button>

            </form>

            <div class="register" fxLayout="column" fxLayoutAlign="center center">
                <span class="text">Already have an account?</span>
                <a class="link" [routerLink]="'/pages/auth/login'">Login</a>
            </div>
        </div>
    </div>
</div>